<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LondonLeadDrop | Daily London Construction Leads</title>
    <meta name="description" content="Free daily teasers of planning applications tailored to your trade and location. Premium unlocks full details.">
    <style>
        body{font-family:Arial,sans-serif;background:#fff;color:#333;margin:0}
        .hero{text-align:center;padding:4rem 2rem;background:#f8f9fa}
        h1{color:#007BFF;font-size:2.8rem}
        .btn-primary{background:#007BFF;color:white;padding:1rem 2rem;border:none;border-radius:4px;font-size:1.1rem;cursor:pointer}
        .btn-primary:hover{background:#0056b3}
        .disclaimer{font-size:0.8rem;color:#666;text-align:center;padding:2rem}
    </style>
</head>
<body>
    <header class="hero">
        <h1 style="color: #007BFF;">Daily London Construction Leads – Spot Jobs Fast</h1>
        <p>Get tailored alerts from public GLA planning apps. Free teaser daily, premium for full details.</p>
        <img src="https://via.placeholder.com/800x400?text=London+Construction+Grid" alt="Premium London construction visual" class="hero-img">
        <button onclick="showAuth('login')" class="btn-primary">Sign In</button>
        <a href="#" onclick="showAuth('register')" style="color: #6C757D;">Create Account</a>
    </header>
    <div id="auth-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAuth()">&times;</span>
            <form id="auth-form">
                <input type="email" name="email" placeholder="Email" required>
                <input type="password" name="password" placeholder="Password" required>
                <select name="radius" style="display:none;"><option value="10">10km</option></select>
                <select name="trades" multiple style="display:none;"><option value="plumber">plumber</option></select>
                <button type="submit" class="btn-primary">Login</button>
            </form>
        </div>
    </div>
    <footer class="disclaimer">Data sourced from public GLA PlanApps – aggregated for convenience only. We don't contact applicants or sell data. User info stored securely; opt-out anytime.</footer>
    <script>
        let authType = 'login';
        function showAuth(type) {
            authType = type;
            document.getElementById('auth-modal').style.display = 'block';
            document.querySelector('#auth-form button').textContent = type === 'register' ? 'Register' : 'Login';
        }
        function closeAuth() { document.getElementById('auth-modal').style.display = 'none'; }
        document.getElementById('auth-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const formData = new FormData(e.target);
            const endpoint = authType === 'register' ? '/register' : '/login';
            const res = await fetch(endpoint, { method: 'POST', body: formData });
            const data = await res.json();
            if (data.success) {
                window.location.href = '/dashboard';
            } else {
                alert(data.error || 'Error — try test@contractor.com / test123');
            }
        });
    </script>
</body>
</html>
